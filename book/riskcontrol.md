最坏的情况发生了，你扛得住吗？

---

# 风险控制

> An ounce of prevention is worth a pound of cure.
> 一盎司的预防胜过一磅的治疗。
> —— Benjamin Franklin

> The best time to repair the roof is when the sun is shining.
> 修屋顶的最好时机是阳光灿烂时。
> —— John F. Kennedy

> Risk comes from not knowing what you're doing.
> 风险来自于不知道自己在做什么。
> —— Warren Buffett

风控是典型的"看不见的复杂"——用复杂的系统来保证前端的简单和安全。

做得好，没人看见。做不好，公司可能就没了。

2017 年，知识星球在风控上犯过一些错误。找专业人士请教解法时，对方说：“配好刹车再上路。”

这句话我记了很多年。后来星球跑得确实不快，但也没死。而同时期一些跑得快的产品，有的就死在风控上——被羊毛党直接薅垮。

做内容产品，风控是生死线。不是可选项，是必选项。

朋友要去无人区，我提醒安全，他说有向导。他推荐我看《徒手攀岩》：几十次带绳演练，只为最后一次完美徒手。极限运动拼的不是胆大，是心细。

我说：做内容也是一样。

他说：侥幸就会死。别人拿命换来的经验得学，聪明人不需要自己摔倒。

## 战场

风控要对付的是坏人。他们有的薅羊毛，有的发垃圾信息，有的系统性地钻规则漏洞。各有套路，防不胜防。

### 羊毛党与黑灰产

羊毛党，指专门利用平台规则漏洞获取不当利益的人。他们不创造价值，只消耗资源。

早期知识星球对付费提问、赞赏不收手续费。微信支付的千分之六，我们代付。初衷简单：鼓励提问，鼓励星主给出高质量回答。

但羊毛党来了。一批用户创建星球，相互提问，信用卡支付，微信提现。轻松套现。表面上拉高了流水，实际产生了无效内容、无效用户，还提高了成本。

我们做了限制：普通用户每日取款限额，收款 T+3 结算。还是挡不住。他们钻“规则上收费、实际还没收”的空子。最后只好对赞赏和付费提问一视同仁，都收手续费。

各种现金撒币活动，更是羊毛党的关注重点。设计之初，尽可能从产品上就拦住——防线越靠后，成本越高。到安全部门拦截，与业务总有冲突。到发货、交付时拦截，代价更大。

比羊毛党更难对付的是黑灰产。他们不只薅羊毛，而是系统性地利用平台牟利。

一个典型套路：注册知识星球，验证手机、身份证，创建星球。先不发违规内容，但引流时用擦边内容吸引“同好”付费进来。过了三天退款期，提现。然后发布不良内容——被封号封星球。“同好”们投诉，余额可能被冻结，但至少拿走了部分。换个身份，再来一波。手机号、身份证，黑灰产渠道都能买到。

我们的对策：违规星球冻结，星主余额冻结，设置保证金，封号；用户不退款，告知星主身份信息，建议沟通，必要时起诉；对这批星主和用户做“染色”，后续注册会被特别关注。

这大大减少了存心作恶的人。但身份认证问题始终没彻底解决——“换个身份”的成本还是不够高。

### 滥用与 Spam

另一种攻击是纯粹消耗资源。有人创建一个星球，然后大量上传文件，数以万计。对带宽、存储、内容审核都造成不必要的消耗。我们的对策是做资源限制，按星球、按用户设上传上限。同事提醒：资源限制可能削弱新用户创建星球的积极性。风控要考虑两个原则——对抗的动态性，大规模普通用户和少数坏人的平衡。

风控不需要一次打死对方，而是用最小代价换对方的最大代价。

还有一种是 Spam 广告。深夜，程序化操作，发一波广告，发完直接退款走人——利用三天无条件退款机制。我们的对策是：对触发风控的退款诉求延迟处置，让 Spam 者有成本。

防 Spam 的产品设计，我曾经犯过一个傻错误：当检查到疑似 Spam 时，给一个弹窗提示，告知发送者不要这么做，否则可能有惩罚。实际效果是：用户非常容易测试出我们的规则，然后绕过。

### 内容的红线

任何企业提供产品和服务，都需要遵守当地法律法规。但总会有擦边的情况。

某小众娱乐产品有“群聊”功能，监测能力弱。一些坏人通过其他通讯手段发链接，让他们群体的人到一个临时聊天室，聊完即走。最后公安机关上门，产品方才知道自己被这样利用。

知识星球出现过有问题的内容。曾经有些星球有衣着暴露、涉及性相关的内容。当时我对尺度理解有误，认为“没有露点，似乎不算涉黄，没理由删吧？”“同样尺度的图片，微博、微信上也大把在流传”。没有快速处理，后来带来了媒体的批评。

2017 年，有媒体发文批评小密圈存在擦边内容。一位做 PR 的朋友给我建议：

不要去回应，说不清楚而且容易招来更大反弹。这种事只要发生了一件，你就没法说清楚。吃瓜群众永远不会管你的解释。有的公司遇到类似问题高调喊冤，越喊越冤。有的公司低调做事，越做越大。这种事只能做不能说。

他还说：要避免公关事件上升为政府监管事件。一是尽量降低传播热度，不要让事态升级。二是做好监管部门会介入的准备，把审查制度和严格监管摆出来。法律免责、技术手段、人工审核，都要有具体的责任追究办法。

### 同行的暗箭

2019 年，互联网圈传开一则新闻：某公司员工在竞争对手的产品上注册账号，发布涉黄内容，截图后举报。对手被下架，每日注册用户断崖下降。

对这种“同行举报”，知识星球也亲身经历过。某次被举报的是个“私密星球”，只有两个人，被举报的那篇文章只有一个阅读。还有一次整改期间，举报者的证据是一年多前的图片。如果没找到合适的沟通渠道，这样就可以关门了。

跟朋友聊这事时，有人说：不行你也搞他们呗。我说：盯着这种下作的对手看，把自己做小气了。我还是盯着用户，满足用户的需求，这是正道。

但正道不等于没有防线。我们建了更完善的日志系统，能追踪各类攻击，实现溯源。效果不错，帮我们找到了一些做坏事的人。自己强了，别人才不敢轻易动手。不过我们没有停在这一步——更多精力，始终放在用户身上。

## 打法

风控有句老话：事后控制不如事中控制，事中控制不如事前控制。

### 事前：建立防线

事前风控的核心是建立用户画像、识别异常行为、部署防御策略。

**账号模型**

为每个用户建立风险画像。采集账号的注册信息、实名验证结果、设备指纹、登录地域、社交关系、历史行为等数据，对账户进行标签化分类和风险评分。

大型平台的做法是构建六大标签：实名信息、基础资料、社交网络、账号特征、行为表现、违规记录。高信誉账户给予更宽松的权限，低信誉或新注册账号则加强校验和限制操作。

身份关联分析（核身策略）用于判断不同账号是否属于同一主体。检测账号是否共用相同的手机号、设备 ID、IP 地址、支付账户、地理位置等。一旦发现账号之间存在过多重合关联，判定可能为批量马甲或黑产养号。

通过账号画像和关联分析，可以及时发现批量注册、账号租借买卖等风险。

**行为分析**

正常用户与黑灰产账号在行为模式上存在差异。风控系统通过规则和机器学习模型识别异常特征。

设定行为基线和频率阈值，检测超速批量操作（如短时间内关注、点赞、发帖过于集中）。识别异常行为特征（如长期不登录的沉睡账号突然活跃且只参与某次活动，设备曾登录多个账号、设备已 Root 或安装作弊应用等）。

发现聚集性行为（如一批用户来自同一 IP 或 WiFi、使用连号段手机号注册、在地理位置上集中、行为路径和节奏高度相似，或账号之间存在互粉互赞等交叉关联）。

机器学习模型可以从全局模式识别群体异常，比如区分正常用户登录与撞库攻击，真人操作与批量模拟器操作。

**红蓝军对抗**

红蓝军对抗的攻防演练，可以覆盖营销作弊、虚假流量、直播违规、数据爬虫、垃圾注册等各种场景。

蓝军扮演攻击方，从攻击者视角出发，针对业务设计攻击场景：模拟大规模薅羊毛、批量发布垃圾广告、利用漏洞爬取敏感数据等。通过红蓝对抗演练，蓝军可以揭示业务流程中的隐蔽漏洞和风险点。

每次演练后复盘，蓝军将发现的问题形成报告，与风控、业务团队协同整改，并推动形成长效防御方案。能发现漏洞是水平，能同时给出修复方案是高水平。

### 事中：机器在前，人工在后

事中风控的核心是实时监控与拦截。要求系统对每次请求和内容发布都能在毫秒级完成策略判断。

**审核机制**

成熟的审核系统能自动处理 95% 以上的内容，剩下的交给人工。

机器审核分两种：规则和模型。规则是最简单的方式，比如关键词过滤。模型更强大，能处理文本、图片、音视频，通过 AI 算法识别风险内容。

某大型内容平台有超过 20 个安全模型：色情、低俗、暴恐、领导人、好坏二分类（兜底模型）、高危视频消重、OCR 图文、违禁品。审核流程是：用户发布（仅自见）、进入安全模型矩阵、高风险进人工审核、低风险进质量模型判断推荐。

人工审核处理机器无法判断的内容。机器给出“疑似风险”的判断，人工做最终确认。人工审核结果反过来可以训练机器模型，形成闭环。

审核模式有两种：先审后发和先发后审。先审后发安全优先，内容审核通过后才可见。先发后审效率优先，内容先上线，后台持续审核，发现问题再处理。知识星球里的全部内容都是先审后发。

抖音的做法是：爆火视频至少经过四级人工审核，每层审核关注不同维度并逐级严格。

**风控引擎**

风控引擎是整个风控体系的大脑。它整合了规则引擎、模型服务和策略编排。

规则引擎用于执行人工配置的 IF-THEN 规则。支持规则的动态配置、热更新，并能处理复杂的逻辑组合。模型服务负责加载和执行机器学习、深度学习模型，提供实时的预测服务。策略编排根据不同的业务场景，灵活地组合调用不同的规则集和模型，并定义最终的决策逻辑（通过、拒绝、转人工）。

快手自研的智能风控引擎，过去一年新增策略规则 800+ 条，日均运行风控策略超过 1800 次，实现对账号涉诈风险的实时研判和拦截。

**用户染色**

发布过违规内容的用户会被标记为高风险，后续内容自动进入人工审核。知识星球对违规星主和用户做“染色”，后续注册会被特别关注。

有一次，朋友在知识星球测试了一个敏感关键词。我没当回事，这显然会被审核拦下——但竟然发出去了。虽然一秒钟就删了，可消息推送已经发出。

马上检查：确认内容已删，星球临时封禁；查 push 队列，尽可能清空；检查推送服务厂商的队列。然后查原因：审核服务最近一次升级，文档有误，导致没有使用增强审核能力。迅速修正部署上线。

后续改进：消息推送需要经过更高等级的安全检查，推送延迟至少 5 分钟，推送前检查内容是否还存在。

所幸是朋友测试导致的，没造成大影响。这就是内容产品的日常。

### 事后：根因分析与无责复盘

事后风控的核心是找出问题根源，防止再次发生。

如果一个工程师犯错导致网站挂了，解雇他意味着你失去了最了解这个漏洞的人。复盘不是为了找人背锅，而是找出系统哪里有问题。

根因分析要问五个为什么。为什么内容发出去了？因为审核没拦住。为什么审核没拦住？因为增强审核能力没启用。为什么没启用？因为文档有误。为什么文档有误？因为升级流程没有校验文档。为什么没有校验？因为流程里没有这一步。找到根因，修复流程。

复盘结果要形成闭环：更新规则、优化模型、改进流程。人工审核中发现的新风险类型，要及时补充到机器审核的规则和模型中。

**黑灰产情报**

知己知彼方能百战不殆。风控运营需投入对黑灰产生态的研究，建立灰产画像和威胁情报体系。

画像内容包括四大要素：黑灰产从业人员（人）的信息，他们的组织、分工和活动渠道；黑产所利用的资源，如手机号卡商、养号设备、IP 代理池、银行卡和第三方支付渠道、群控软件等；典型攻击路径和手法，比如如何批量注册账号、导流到第三方平台诈骗、常用的社工话术和诈骗剧本；以及黑产变现途径，他们获利的方式和渠道。

通过情报收集，构建黑灰产产业链全景图。有了全貌视角，企业才能在黑产链条上找到最佳打击切入点。

一些企业建立灰产监控系统，在暗网、黑产论坛等处搜集情报，提前预警可能针对本公司的攻击活动。

## 困境

风控最难的不是对付坏人，而是在对付坏人时不伤害好人。

### 打坏人时伤了好人

有位星主因为评论区存在大量违规内容，星球被关闭评论功能 15 天。他在反馈群里抱怨：

“我有几千个人，能不能谁发评论就处理谁，别处罚整个星球？评论区无数条内容，星主又不是你们审研部的人，没参加过培训，根本看不出来。你们邀请过星主去学习红线吗？”

他说得对。

星主要管自己发的内容，评论区无数条，是否违规普通人看不出来。整个星球被处罚，对星主而言是权利义务不对等。

我回复得很生硬：“确实只能如此。作为产品运营方，在风控上我们没什么操作空间。管理者对我们的要求是，可能一个用户的一条评论出问题，公司都活不下去。”

他生气地退群了，还发了篇公众号批评我们。

反思后发现产品上可以改进。

提前警示，像微信在违规多的群聊顶部飘风险提示。给星主一个评论审核后台，AI 预审后星主可以第一时间处置。

服务上也能优化。明确告知星主哪些内容是红线。对严肃处置的用户内容，告知具体触发点但提醒不要传播。日常的小规模星主交流会，增加内容安全话题。

其实有改进空间，但我当时没想到改进，只想到解释。我应该向他道歉。

### 换位思考

公司同事使用的企业即时通讯软件，账户时不时被封号，说是骚扰他人、过度营销。

有一次客户支持同事被封，我走常规申诉流程，超过一天没反馈。我发了朋友圈抱怨，很快有朋友帮忙，找到能和风控对话的人。

账号解封了，但是到最后也没告诉我们是什么原因封的号。

我发朋友圈抱怨时，也有星主嘲讽我：你们不也一样？封号了需要发邮件几天才解决？

这让我反思。知识星球可以改进的地方：尽快解决，用户来找我们时其实很痛了；回复带着足够的信息量，告知问题、判断、下一步操作建议；共情，情绪和问题一起关注。

### 审核的成本与效果

内容审核烧钱。

知识星球的内容审核能力构成：自研基于词库的过滤机制、自研基于 AI 的审核机制、第三方机器审核、第三方人工审核、自建人工复核。仅仅内容审核部分，每年成本就不菲。

优化思路有几个。

结合用户 Profile，比如某星主标签是“商业、外企、大公司、导师”，内容安全比值是 1/300，就可以降低审核优先级。结合内容的语义摘要，判定是否需要人工审核。基于阅读数、评论数、转发数做召回，如果一篇内容快速有了热度，第一时间重审。

某大型内容平台有超过 20 个安全模型：色情、低俗、暴恐、领导人、好坏二分类（兜底模型）、高危视频消重、OCR 图文、违禁品。审核流程是：用户发布（仅自见）、进入安全模型矩阵、高风险进人工审核、低风险进质量模型判断推荐。

对甲方安全审核团队而言，审核这件事挺痛的——他们的内容质量中心高峰时期曾经有超过 10000 人。非核心部门预算低，审核员成本、培训成本、离职率都很高。国际化业务不懂多国审核标准，中小公司对舆情反应慢。工作成果难量化。

## 出路

### 从黑箱风控到共建风控

风控可以更透明一些。

明确告知红线。对重点服务的星主，定期拉取社区有问题的内容数据，约个短会交流。建公开红线与知识库，让星主 onboarding 必读。

每次处置时展示触发规则、严重级别、处置选项、下一步复核时间。开放纠错通道进度条。

把“黑箱风控”升级成“共建风控”。

### 体系建设

一个高效的风控体系，需要运营策略和管理制度配合。

**增长与风控的平衡**

在业务高速发展和严格风控之间寻找最佳平衡，是风控策略层面的重要课题。

最佳实践是实行分级风控与渐进验证策略。根据用户的风险等级差异，给予不同严厉程度的安全措施。

对新用户或高风险用户，采用强验证（如手机实名、人脸识别）、低体验（步骤稍繁琐）和谨慎增长（功能受限、额度较低）的策略。对老用户或低风险用户，则采用弱验证（无感知的风控，例如静默风控校验设备环境）、高体验（流程顺畅无打扰）和鼓励增长（提高额度与优惠）策略。

例如用户首次登录时默认为正常，简单输入密码即可。但如果触发异常（如异地登录、多次密码错误），则逐步增加验证手段（短信验证码、安全问答等）。再比如大部分用户转账无需繁琐验证，但少数可疑账户的转账则需要提供更多资料审核。

这样的动态风控在保障安全的同时尽量不打扰正常用户。

**信用体系**

许多内容社区引入了用户信用分或信用等级机制，将其作为风控的重要参考和运营工具。

信用体系通常基于大数据分析，对用户和内容的生产者-内容本身-传播载体-处理者-接收者这五大要素进行综合评价。以用户为核心，通过六类标签（实名信息、基础资料、关系网、账号特征、行为表现、违规记录）打分，形成用户的信用档案。

一旦建立信用分，平台可以在各环节应用：内容发布时参考信用决定是否放行或需审查，推荐算法中信用低者的内容权重降低，发生纠纷时信用高者优先受理等。

信用体系还可以用于黑产识别，因为黑产账号往往在某些维度呈现异常（例如注册信息异常、社交关系单一、行为轨迹反常）。

值得注意的是，信用体系需要动态维护，给予用户改过提升的机会，以免形成永久性惩罚。信用评分的规则也需透明公正，以获取用户信任。

**管理制度**

企业的内容安全至少包括三个层面：企业业务平台上发布的内容、企业制作并对外发布的资料（公众号、微博、视频号）、企业员工自行发布的社交媒体内容。

风控措施包括几个方面。

内部培训，运营团队需要具备基本的内容安全、风控常识。账户安全，强密码，多因素认证。

发布流程，传统新闻行业需要三审，目前企业追求效率直接发稿，慢下来，每条内容都要有确认。官方账号社交媒体和产品推送发内容，必须先发到企业微信群“总编室”，审核确认。

公司需要有管理制度、协议，在法律上把违规发帖的责任界定清楚。收集同事的社交媒体账号，定期回顾发布内容。

做网站、App 有内容的朋友，建议阅读《网站平台信息内容管理主体责任》。从落地角度，“重点任务”部分就是内容安全的风控指引，包括：把握主体责任内涵、完善平台社区规则、加强账号规范管理、健全内容审核机制、提升信息内容质量、规范信息内容传播、加强重点功能管理、坚持依法合规经营、严格未成年人网络保护、加强人员队伍建设。

还有等保测评。测评经验：这不仅是技术评测，也是管理评测。

除了管理制度，还需要“记录”——各种遵循管理制度而产生的记录文件，变更记录、审批记录、培训记录。如果采用云服务，提前购买安全产品，有业务数据和日志供审核。自己先做一次漏洞扫描和渗透测试，把问题处理掉。

从《网站平台信息内容管理主体责任》的分工来看：组织管理负责依法合规经营、人员队伍建设。产品与风控配合负责平台社区规则、账号规范管理、内容审核机制、重点功能管理、未成年人保护。运营与风控配合负责信息内容质量、信息内容传播。

---

做内容产品，风控如履薄冰。正因为如履薄冰，活下来的才更有价值。

配好刹车，才能上路。
